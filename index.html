<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Empregue.se</title>
    <link rel="stylesheet" type="text/css" href="style.css"/>
    <form action="/pagina-processa-dados-do-form" method="post"> </form>

    

    <script src="sketch.js"></script>
    <script src="fire.js"></script>
    <script src="p5.play.js"></script>
</head>
<body>

    <header>Empregue.se</header>
    
    <br><h2>Crie sua conta</h2>
    <div class="person">
    <img src="imagens/person.png">
    </div>
    
    <form action="https://jobiscreido.github.io/Empregue.se-teste02/" method="post">
        
        <br><br><div class="name">
        
        <input id="userN" type="text" name="Username" placeholder="Nome" id="nome">
        </div>

        <br><div class="email">
        
        <input id="userE" type="email" name="EmailAddress" placeholder="E-mail" id="email">
        </div>

        <br><div class="enviar">
        <button id="SubBtn" type="submit">Submit</button>
        </div>
    </form>

    <script type="module">
            
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.1.0/firebase-app.js";
        
        const firebaseConfig = {
        apiKey: "AIzaSyCzNwGGaxo0JbJpH7Ly_Jlh0pJOBa4X2WY",
        authDomain: "empreguese-48f51.firebaseapp.com",
        databaseURL: "https://empreguese-48f51-default-rtdb.firebaseio.com",
        projectId: "empreguese-48f51",
        storageBucket: "empreguese-48f51.appspot.com",
        messagingSenderId: "995345543313",
        appId: "1:995345543313:web:a2c6798dc899c167cd8f30",
        measurementId: "G-RECNPRWGTW"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
         
        import{
            getFirestore, doc, getDoc, setDoc, collection, addDoc, updateDoc, deleteDoc, deleteField
        }
        from "https://www.gstatic.com/firebasejs/9.1.0/firebase-firestore.js";

        const db = getFirestore(app);

        let userN = document.getElementById("userN")
        let userE = document.getElementById("userE")

        let SubBtn = document.getElementById("SubBtn")


        async function addDocument_AutoID() {

            var ref = collection(db, "user")

            const docRef = await addDoc(
                ref, {
                    Name: userN.value,
                    Email: userE.value
                }
            )
                .then(() =>{
                   alert("data OK") 
                })
                .catch((error) =>{

                    alert("deu n√£o" + error)

                })
            
        }

        SubBtn.addEventListener("click", addDocument_AutoID);

      </script>
      <script src="app.js"></script>
</body>

</html>